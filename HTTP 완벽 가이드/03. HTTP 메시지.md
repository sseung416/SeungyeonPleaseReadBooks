# 03. HTTP λ©”μ‹μ§€

## (1) λ©”μ‹μ§€μ νλ¦„
- λ©”μ‹μ§€λ” ν•­μƒ λ‹¤μ΄μ¤νΈλ¦ΌμΌλ΅ νλ¦„
- μ”μ²­ν•  λ•λ” ν΄λΌμ΄μ–ΈνΈκ°€ μ—…μ¤νΈλ¦Ό, μ„λ²„κ°€ λ‹¤μ΄μ¤νΈλ¦Όμ΄ λμ–΄ λ©”μ‹μ§€κ°€ νλ¬κ°
- μ‘λ‹µν•  λ•λ” μ„λ²„κ°€ μ—…μ¤νΈλ¦Ό, ν΄λΌμ΄μ–ΈνΈκ°€ λ‹¤μ΄μ¤νΈλ¦Όμ΄ λμ–΄ λ©”μ‹μ§€κ°€ νλ¬κ°

> π’¬ λ©”μ‹μ§€μ λ°©ν–¥μ„ λ‚νƒ€λ‚΄λ” μ©μ–΄λ“¤
> - **μΈλ°”μ΄λ“**: λ©”μ‹μ§€κ°€ μ„λ²„λ΅ ν–¥ν•λ” κ²ƒ 
> - **μ•„μ›ƒλ°”μ΄λ“**: λ©”μ‹μ§€κ°€ ν΄λΌμ΄μ–ΈνΈλ΅ λμ•„μ¤λ” κ²ƒ


## (2) λ©”μ‹μ§€ λΈ”λ­
- λ©”μ‹μ§€λ” λ‹¨μ κµ¬μ΅°ν™”λ λΈ”λ­
- μ‹μ‘μ¤„, ν—¤λ” λΈ”λ­, λ³Έλ¬Έ(body)μΌλ΅ μ΄λ¤„μ§
- μ‹μ‘μ¤„κ³Ό ν—¤λ”λ” λ°λ“μ‹ μ΅΄μ¬ν•μ§€λ§, λ³Έλ¬Έμ€ λΉ„μ–΄μμ„ μ μμ
### λ©”μ‹μ§€ λ¬Έλ²•
- λ¨λ“  λ©”μ‹μ§€λ” μ”μ²­ λ©”μ‹μ§€μ™€ μ‘λ‹µ λ©”μ‹μ§€λ΅ κµ¬λ¶„
  - μ”μ²­ λ©”μ‹μ§€ ν•μ‹
    ```
    <method> <requst URL> <version>
    <header>
    
    <entity body> 
    ```
    
  - μ‘λ‹µ λ©”μ‹μ§€ ν•μ‹ (μ‹μ‘μ¤„λ§ λ‹¬λΌμ§)
    ```
    <version> <status code> <reason phrase>
    <header>
    
    <entity body> 
    ```
- μμ„Έν• μ„¤λ…μ€ μ–΄μ°¨ν”Ό λ’¤μ—μ„ λ‚μ¤λ―€λ΅ μ•„λλ¥Ό μ‚΄ν΄λ³΄μ~

### μ‹μ‘μ¤„
#### μ”μ²­μ¤„
- μ„λ²„μ—κ² λ¦¬μ†μ¤μ— λ€ν• μ‘μ—…μ„ μ”μ²­ν•λ” μ—­ν• 
- λ©”μ„λ“, μ”μ²­ URL, HTTP λ²„μ „μΌλ΅ κµ¬μ„±
  - HTTP/1.0 μ΄μ „μ—λ” λ²„μ „ κ°’μ΄ μ—†μ!
- λ¨λ“  ν•„λ“λ” κ³µλ°±μΌλ΅ κµ¬λ¶„λ¨
#### μ‘λ‹µμ¤„
- μ”μ²­ μν–‰ κ²°κ³Ό
- HTTP λ²„μ „, μ«μ μƒνƒ μ½”λ“, μ‚¬μ  κµ¬μ λ΅ κµ¬μ„±
- λ¨λ“  ν•„λ“λ” λ‘κ°™μ΄ κ³µλ°±μΌλ΅ κµ¬λ¶„
#### λ©”μ„λ“(method)
- μ„λ²„κ°€ λ¦¬μ†μ¤μ— λ€ν•΄μ„ μν–‰ν•΄μ£ΌκΈΈ λ°”λΌλ” λ™μ‘
- ex) `GET`, `POST` λ“±
- λ©”μ„λ“ μΆ…λ¥μ— λ”°λΌ λ³Έλ¬Έ(body)κ°€ μ—†λ” κ²½μ°λ„ μμ
- [HTTP λ©”μ„λ“ μΆ…λ¥](https://developer.mozilla.org/ko/docs/Web/HTTP/Methods)
- μ§€μ›ν•λ” λ©”μ„λ“ μ΄μ™Έμ—λ„ μ¶”κ°€μ μΌλ΅ λ©”μ„λ“λ¥Ό κµ¬ν„ν•  μ μμ -> ν™•μ¥ λ©”μ„λ“
#### μƒνƒ μ½”λ“(status code)
- ν΄λΌμ΄μ–ΈνΈμ—κ² μ•λ ¤μ£Όλ” μ”μ²­ μν–‰μ μƒνƒ κ°’
- μ„Έ μλ¦¬ μ«μλ΅ λ¬¶μ„ `ex) 200, 404`
- μƒνƒ μ½”λ“λ¥Ό ν†µν•΄ ν΄λΌμ΄μ–ΈνΈλ” κ²°κ³Ό μƒνƒμ— λ§λ” μ΄λ²¤νΈ ν•Έλ“¤λ§μ΄ κ°€λ¥ν•λ‹¤~
#### μ‚¬μ  κµ¬μ 
- μƒνƒ μ½”λ“μ™€ μΌλ€μΌλ΅ λ€μ‘λλ” λ©”μ‹μ§€
- μƒνƒ μ½”λ“μ μ‚¬λμ΄ μ΄ν•΄ν•κΈ° μ‰¬μ΄ λ²„μ „
- μ—„κ²©ν• κ·μΉ™μ€ μ—†μ
  - ~~200 NOT OK λ‚ λ ¤λ„ κ΄μ°®λ‹¤λ” λ»\~~~
#### λ²„μ „(version)
- μ§€μ›ν•λ” HTTPμ λ²„μ „ κ°’
- ν•μ‹: `HTTP/<λ©”μ΄μ €>.<λ§μ΄λ„>`
- μ”μ²­ λ° μ‘λ‹µ λ©”μ‹μ§€ λ¨λ‘μ— κΈ°μ 
  - μƒλ€λ°©μ—κ² μμ‹ μ ν”„λ΅ν† μ½ λ²„μ „μ„ μ•λ ¤μ£ΌκΈ° μ„ν•¨!
- λ²„μ „ μ •λ³΄λ” λ¶„μλ΅ λ‹¤λ¤„μ§€μ§€ μ•λ”λ‹¤!
  - ex) `HTTP/2.22`λ” `HTTP/2.3`λ³΄λ‹¤ ν¬λ‹¤!
  
### ν—¤λ”
- μΌλ° ν—¤λ”, μ‘λ‹µ ν—¤λ”, μ”μ²­ ν—¤λ”, μ—”ν‹°ν‹° ν—¤λ”, ν™•μ¥ ν—¤λ”λ΅ λ‚λ‰¨
- μμ„Έν• κ±΄ μ•„λμ—μ„~!

### μ—”ν‹°ν‹° λ³Έλ¬Έ
- μ”μ²­ν• λ¦¬μ†μ¤μ κ°’

### λ²„μ „ 0.9 λ©”μ„Έμ§€
- ν”„λ΅ν† μ½μ μ΄κΈ° λ²„μ „
- λ§¤μ° λ‹¨μν•΄ μ‚¬μ©ν•κΈ° μ–΄λ ¤μ› μ
  - μ”μ²­: λ©”μ„λ“, μ”μ²­ URL
  - μ‘λ‹µ: ~~κ± λ…ΈλΉ κΎΈ~~ μ—”ν‹°ν‹°
- κ·Έλ°λ°.. μ•„μ§λ„ μ‚¬μ©ν•λ” μ• ν”λ¦¬μΌ€μ΄μ…μ΄ μλ‹¤κ³ μ”..? γ„·γ„·


## (3) λ©”μ„λ“
HTTP λ²„μ „λ§λ‹¤ μ§€μ›λλ” λ©”μ„λ“κ°€ λ‹¤λ¥΄λ―€λ΅ μ μν•λ„λ΅ ν•μ~
### μ•μ „ν• λ©”μ„λ“(Safe Method)
- HTTP μ”μ²­μ„ μ‹¤ν–‰ν–μ„ λ•, μ„λ²„μ μ–΄λ– ν• μ‘μ©λ„ λΌμΉμ§€ μ•λ” λ©”μ„λ“λ¥Ό μλ―Έ
  - ex) GET, HEAD λ“±, POST λ©”μ„λ“μ™€ κ°™μ€ κ²½μ° λ°μ΄ν„°λ¥Ό μ…λ ¥ν•λ―€λ΅ μ„λ²„μ— μν–¥μ„ λΌμΉ¨
### HEAD
- `GET`κ³Ό λΉ„μ·ν•μ§€λ§, μ‘λ‹µμΌλ΅ ν—¤λ”λ§ λ°ν™ν•λ” λ©”μ„λ“
- ν™μ©
  - λ¦¬μ†μ¤μ νƒ€μ…μ„ μ•κ³ μ ν•  λ•
  - μ‘λ‹µ μ½”λ“λ¥Ό ν†µν•΄ κ°μ²΄κ°€ μ΅΄μ¬ν•λ”μ§€ ν™•μΈν•κ³ μ ν•  λ•
  - ν—¤λ”λ¥Ό ν†µν•΄ λ¦¬μ†μ¤κ°€ λ³€κ²½λμ—λ”μ§€ κ²€μ‚¬ν•κΈ° μ„ν•΄
- [μ¶”κ°€] [GET λ©”μ„λ“μ™€ HEAD λ©”μ„λ“μ μ„±λ¥ μ°¨μ΄μ— λ€ν•΄](https://stackoverflow.com/questions/16539269/http-head-vs-get-performance)
  - μ”μ•½ν•λ©΄, λ¦¬μ†μ¤ ν¬κΈ°κ°€ μ‘μ€ κ²½μ° HEAD λ©”μ„λ“κ°€ λ” λΉ λ¥Ό μ μμ§€λ§ κ·Έλ ‡μ§€ μ•μ€ κ²½μ° μ„±λ¥μ΄ λΉ„μ·ν•κ±°λ‚ μ¤νλ ¤ λλ¦¬λ‹¤~
### PUT vs POST
- `PUT`: μ„λ²„μ— μ§μ ‘ λ¬Έμ„λ¥Ό μ“°λ” μ‘μ—…
  - μ£Όλ΅ μ½ν…μΈ λ¥Ό μμ •ν•  λ• μ‚¬μ©λ¨
  - ν•΄λ‹Ή URLκ°€ μ΅΄μ¬ν•λ‹¤λ©΄, bodyμ λ‚΄μ©μΌλ΅ κµμ²΄ν•κ³  κ·Έλ ‡μ§€ μ•λ‹¤λ©΄ μƒ νμΌμ„ μƒμ„±ν•¨
- `POST`: μ„λ²„μ— μ…λ ¥ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•κΈ° μ„ν• μ‘μ—…
  - HTMLμ—μ„ νΌμ„ μ§€μ›ν•κΈ° μ„ν•΄ μ‚¬μ©λ¨
### TRACE
- μ”μ²­μ΄ μ„λ²„μ—κ² λ„μ°©ν–μ„ λ• μ–΄λ–»κ² λ³΄μ—¬μ§€λ”μ§€ ν΄λΌμ΄μ–ΈνΈμ—κ² μ•λ ¤μ£Όλ” λ©”μ„λ“

[//]: # (todo: trace κ°λ… μ •λ¦¬ λ„λ¬΄ λμ— μ• λ“¤μ–΄ μ¨λ‹¤..)
### OPTIONS
- λ©”μ„λ“μ μ§€μ› λ²”μ„λ¥Ό μ”μ²­ν•λ” λ©”μ„λ“ (μ–΄λ–¤ λ©”μ„λ“κ°€ μ§€μ›λλ”μ§€~)

## (4) μƒνƒ μ½”λ“
ν¬κ² 5κ°€μ§€λ΅ λ‚λ‰¨  
μƒνƒ μ½”λ“ μΆ…λ¥λ” λ„λ¬΄λ‚λ„ μΉμ ν• [MDN Web Docs](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#information_responses) λ¥Ό μ°Έκ³ ν•λ„λ΅ ν•μ~~
### μΆ…λ¥
- 100: μ •λ³΄μ„± μƒνƒ μ½”λ“
  - `HTTP/1.1`λ¶€ν„° λ„μ… 
- 200: μ„±κ³µ μƒνƒ μ½”λ“ 
- 300: λ¦¬λ‹¤μ΄λ ‰μ… μƒνƒ μ½”λ“
  - λ¦¬μ†μ¤μ μ„μΉκ°€ λ³€κ²½λμ—μ„ λ•, μ΄λ¥Ό μ•λ ¤μ£ΌκΈ° μ„ν•¨
- 400: ν΄λΌμ΄μ–ΈνΈ μ—λ¬ μƒνƒ μ½”λ“
- 500: μ„λ²„ μ—λ¬ μƒνƒ μ½”λ“
### 100 Continue
- μ”μ²­μ μΌλ¶€λ¶„λ§ μ‹¤ν–‰ν–μΌλ©°, ν΄λΌμ΄μ–ΈνΈκ°€ λ‚λ¨Έμ§€λ¥Ό κ³„μ† μ΄μ–΄ λ³΄λ‚΄μ•Ό ν•¨μ„ μλ―Έν•¨
- μ „μ†΅ν•κΈ° μ „, μ„λ²„κ°€ body λ°μ΄ν„°λ¥Ό λ°›μ•„λ“¤μΌ μ μλ”μ§€ ν™•μΈν•λ ¤κ³  ν•  λ•, ν™•μΈ μ‘μ—…μ„ μµμ ν™”ν•κΈ° μ„ν•΄ μ„¤κ³„λ¨(...)
- λ€μ¶© λ„λ¬΄λ„λ¬΄ λ³µμ΅ν•λ‹¤~

## (5) ν—¤λ”
### μΌλ° ν—¤λ”
- μ”μ²­, μ‘λ‹µ μ–‘μ½ λ¨λ‘ λ‚νƒ€λ‚  μ μλ” ν—¤λ”
- ex) Date ν—¤λ” `Date: Mon, 28 Aug 2023 02:16:00 GMT`
### μ”μ²­ ν—¤λ”
- μ”μ²­ λ©”μ‹μ§€λ¥Ό μ„ν• ν—¤λ”
- ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ—κ² μ „λ‹¬ν•κ³ μ ν•λ” λ¶€κ°€ μ •λ³΄λ¥Ό λ‹΄μ
- ex) Accept ν—¤λ”(λ―Έλ””μ–΄ νƒ€μ…μ„ λ‚νƒ€λƒ„) `Accepth: */*`
### μ—”ν‹°ν‹° ν—¤λ”
- bodyμ™€ κ΄€λ ¨λ μ •λ³΄λ¥Ό λ‹΄μ€ ν—¤λ”
- ex) Content-Type ν—¤λ”(bodyμ λ°μ΄ν„° νƒ€μ…μ„ λ‚νƒ€λƒ„) `Content-Type: application/json; charset=UTF-8 `
### ν™•μ¥ ν—¤λ”
- κ°λ°μμ— μν•΄ μƒλ΅ λ§λ“¤μ–΄μ§„ ν—¤λ”
- λΉ„ν‘μ¤€ ν—¤λ”