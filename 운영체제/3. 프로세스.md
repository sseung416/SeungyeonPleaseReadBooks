# 3. 프로세스

## (1) 프로세스의 개념

### 프로그램
- 실행 파일
- 디스크에 저장된 명령어 리스트
- 수동적 존재(passive entity)

### 프로세스
- 실행 중인 프로그램
- 메모리에 적재된 프로그램
- 컴퓨팅 시스템에서의 작업의 단위
- 능동적인 존재(active entity)
- 프로세스의 상태는 프로그램 카운터(PC)와 프로세서 레지스터로 나타냄
- 운영체제가 해야하는 가장 기본적인 일이 이 프로세스 관리다~

### 프로세스의 메모리 배치 구조

<!-- 사진 -->
- 텍스트 영역: 실행 코드(명령어)
- 데이터 영역: 전역 변수, 초기화 데이터 영역과 bss로 한 번 더 나누기도 함
  - bss(block started symbol): 초기화되지 않은 데이터
- 힙 영역: 실행 중 동적으로 할당되는 메모리
- 스택 영역: 함수 호출 시 사용하는 임시 데이터 저장소

<br/>

설명

- 텍스트, 데이터 영역은 크기가 고정, 힙, 스택 영역은 동적으로 크기가 바뀜
- 힙과 스택 영역은 서로의 방향으로 커지기 때문에 운영체제에서 겹치지 않도록 관리가 필요
  - 활성화 레코드: 함수가 호출될 때마다 스택에 푸시되는 데이터, 매개변수, 지역 변수, 복귀 주소 등

### 프로세스의 상태
<!-- 사진   -->
프로세스는 실행되면서 상태가 변경됨
- 생성(New): 프로세스를 갓 생성한 상태
- 준비(Ready): 변수 초기화 등의 기초 준비 작업을 끝내고 바로 실행할 수 있는 상태, Ready Queue에 등록된 상태
- 실행(Running): 프로세스가 실행 중인 상태
- 대기(Waiting): 다른 프로세스가 실행 중이라, 인터럽트 등 이벤트가 일어날 때까지 대기하는 상태
- 종료(Terminated): 프로세스가 종료된 상태

### 프로세스 제어 블럭, PCB
- 프로세스와 관련된 정보를 나타내는 구조체
- PCB(process control block), 태스크 제어 블럭이라고도 불림
- 프로세스 생성 시 함께 생성되며, 실행 중이지 않을 때는 보조 기억 장치에 저장됨
- 운영체제는 PCB를 통해 프로세스를 관리

<br/>
<!-- PCB 블럭 사진 -->
PCB 블럭 구성요소

- 프로세스 상태
- 프로그램 카운터: 다음에 실행할 명령어 주소
- CPU 레지스터: 누산기, 인덱스 레지스터, 스택 레지스터, 범용 레지스터, 상태 코드
- CPU 스케줄링 정보: 프로세스 우선 순위, 스케줄 큐의 포인터 등
- 메모리 관리 정보: base register, limit register
- 회계(account) 정보: CPU 사용 시간, 시간 제한, 계정 번호 등
- 입출력 상태 정보: 프로세스에 할당된 입출력 장치, 열린 파일 목록


## (2) 프로세스 스케줄링



## (3) 연산

## (4) 프로세스 간 통신

## (5) 공유 메모리

## (6) 메시지 전달 시스템

## (7) IPC 시스템의 사례

## (8) 클라이언트 서버 환경에서 통신